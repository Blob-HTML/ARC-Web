<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ARC Web</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="icon" href="https://i.postimg.cc/MHwTyhZV/ARC-1.png">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <style>
    body {
      margin: 0;
      background-color: #0f0f1a;
      font-family: 'Inter', sans-serif;
      color: #ccc;
    }

    .tab-bar {
      display: flex;
      align-items: center;
      background-color: #1a1a2e;
      padding: 10px;
    }

    .tab {
      position: relative;
      background: #2f2f46;
      color: #ccc;
      padding: 6px 28px 6px 14px;
      border-radius: 8px 8px 0 0;
      margin-right: 6px;
      cursor: pointer;
      user-select: none;
    }

    .tab.active {
      background: #7771aa;
      color: white;
    }

    .tab .close-btn {
      position: absolute;
      right: 6px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      color: #ccc;
      cursor: pointer;
      user-select: none;
    }

    .tab:hover .close-btn {
      color: #ff6666;
    }

    .add-tab {
      font-size: 20px;
      margin-left: 4px;
      cursor: pointer;
      user-select: none;
    }

    .nav-bar {
      display: flex;
      align-items: center;
      background-color: #1a1a2e;
      padding: 8px 16px;
      gap: 12px;
    }

    .nav-btn {
      font-size: 18px;
      cursor: pointer;
      color: #aaa;
      user-select: none;
    }

    .search-bar {
      flex: 1;
      background: #2a2a3b;
      border: none;
      border-radius: 6px;
      padding: 8px 12px;
      color: white;
      font-size: 16px;
    }

    .right-icons {
      display: flex;
      gap: 10px;
    }

    .main {
      height: 80vh;
      display: flex;
      flex-direction: column;
    }

    iframe {
      flex-grow: 1;
      border: none;
      width: 100%;
      background: white;
    }

    .footer-text {
      font-size: 0.6em;
      opacity: 0.5;
      color: white;
    }
  </style>
</head>

<body>
  <div class="tab-bar">
    <div class="tab active" data-url="">üåê New Tab</div>
    <div class="add-tab">+</div>
  </div>

  <div class="nav-bar">
    <div class="nav-btn">‚Üê</div>
    <div class="nav-btn">‚Üí</div>
    <div class="nav-btn">‚ü≥</div>
    <input class="search-bar" type="text" placeholder="Enter Search Query..." />
    <div class="right-icons">
      <div class="nav-btn">üè†Ô∏é</div>
      <div class="nav-btn">‚öôÔ∏è</div>
      <div class="nav-btn">üéÆ</div>
    </div>
  </div>

  <div class="main">
    <iframe id="content-frame" src=""></iframe>
  </div>

  <div class="footer-text">
    <p>Powered By Bing ¬© 2025 - Blob-HTML</p>
  </div>

  <script>
    const tabBar = document.querySelector('.tab-bar');
    const addTabBtn = document.querySelector('.add-tab');
    const centerPlus = document.querySelector('.center-plus');
    const searchBar = document.querySelector('.search-bar');
    const iframe = document.getElementById('content-frame');
    const refreshBtn = document.querySelectorAll('.nav-btn')[2]; // ‚ü≥ button

    function clearActiveTabs() {
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
    }

    function activateTab(tab) {
      clearActiveTabs();
      tab.classList.add('active');
      const storedUrl = tab.getAttribute('data-url') || '';
      iframe.src = storedUrl;
      searchBar.value = storedUrl;
    }

    function closeTab(tab) {
      const isActive = tab.classList.contains('active');
      const tabs = [...document.querySelectorAll('.tab')];
      const index = tabs.indexOf(tab);
      tab.remove();
      if (isActive) {
        const newTabs = [...document.querySelectorAll('.tab')];
        if (newTabs.length > 0) {
          const newIndex = index > 0 ? index - 1 : 0;
          activateTab(newTabs[newIndex]);
        }
      }
    }

    function createNewTab() {
      clearActiveTabs();
      const newTab = document.createElement('div');
      newTab.classList.add('tab', 'active');
      newTab.setAttribute('data-url', '');
      newTab.textContent = 'üåê New Tab';

      const closeBtn = document.createElement('span');
      closeBtn.classList.add('close-btn');
      closeBtn.textContent = '√ó';
      closeBtn.addEventListener('click', e => {
        e.stopPropagation();
        closeTab(newTab);
      });
      newTab.appendChild(closeBtn);

      newTab.addEventListener('click', () => activateTab(newTab));
      tabBar.insertBefore(newTab, addTabBtn);

      iframe.src = '';
      searchBar.value = '';
    }

    function addCloseButtonsToExistingTabs() {
      const tabs = document.querySelectorAll('.tab');
      tabs.forEach((tab, i) => {
        if (i === 0 && tab.querySelector('.close-btn')) return;

        if (!tab.querySelector('.close-btn')) {
          const closeBtn = document.createElement('span');
          closeBtn.classList.add('close-btn');
          closeBtn.textContent = '√ó';
          closeBtn.addEventListener('click', e => {
            e.stopPropagation();
            closeTab(tab);
          });
          tab.appendChild(closeBtn);
        }

        tab.addEventListener('click', () => activateTab(tab));
      });
    }

    function loadInIframe(query) {
      query = query.trim();
      const urlPattern = /^(https?:\/\/)/i;
      const wwwPattern = /^www\./i;
      let url = '';

      if (urlPattern.test(query)) {
        url = query;
      } else if (wwwPattern.test(query)) {
        url = 'https://' + query;
      } else {
        url = 'https://www.bing.com/?q=' + encodeURIComponent(query);
      }

      iframe.src = url;

      const activeTab = document.querySelector('.tab.active');
      if (activeTab) {
        activeTab.setAttribute('data-url', url);
        const hostname = new URL(url).hostname.replace('www.', '');
        activeTab.textContent = 'üåê ' + hostname;

        const closeBtn = document.createElement('span');
        closeBtn.classList.add('close-btn');
        closeBtn.textContent = '√ó';
        closeBtn.addEventListener('click', e => {
          e.stopPropagation();
          closeTab(activeTab);
        });
        activeTab.appendChild(closeBtn);
      }
    }

    searchBar.addEventListener('keydown', e => {
      if (e.key === 'Enter') {
        loadInIframe(searchBar.value);
      }
    });

    refreshBtn.addEventListener('click', () => {
      const activeTab = document.querySelector('.tab.active');
      if (activeTab) {
        const url = activeTab.getAttribute('data-url');
        if (url) {
          iframe.src = url;
        }
      }
    });

    addCloseButtonsToExistingTabs();
    addTabBtn.addEventListener('click', createNewTab);
    centerPlus.addEventListener('click', createNewTab);
  </script>
</body>
</html>
